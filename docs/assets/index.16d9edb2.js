var ae=Object.defineProperty;var j=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var F=(e,o,n)=>o in e?ae(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,H=(e,o)=>{for(var n in o||(o={}))le.call(o,n)&&F(e,n,o[n]);if(j)for(var n of j(o))se.call(o,n)&&F(e,n,o[n]);return e};import{r as re,a as b,o as d,c as h,b as f,F as L,d as T,e as v,f as B,w as g,g as N,t as D,h as ie,i as de,j as Y,k,u as ue,E as ce,p as U,l as W,n as pe,m as Z,q as E,s as me,v as K,x as _e,y as q,z as G,A as he,P as ye,B as fe,C as ge,D as be}from"./vendor.686eae6b.js";const ve=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}};ve();var we=[{compName:"Button",compZhName:"\u6309\u94AE",compDesc:"\u8FD9\u662F\u4E00\u4E2A\u6309\u94AE",compClassName:"button"},{compName:"Clipboard",compZhName:"\u590D\u5236\u7EC4\u4EF6",compDesc:"\u590D\u5236\u6587\u5B57",compClassName:"clipboard"},{compName:"BuTable",compZhName:"\u8868\u683C",compDesc:"\u8868\u683C",compClassName:"bu-table"}];const xe={class:"bfox-kit-doc"},Ce={name:"App",setup(e){const o=re({links:[{path:"/",name:"\u7B80\u4ECB"},{path:"/install",name:"\u5FEB\u901F\u5F00\u59CB"},...we.map(n=>({path:`/components/${n.compName}`,name:n.compZhName}))]});return(n,a)=>{const t=b("router-link"),r=b("router-view");return d(),h("div",xe,[f("aside",null,[(d(!0),h(L,null,T(o.links,(l,u)=>(d(),B(t,{key:u,to:l.path},{default:g(()=>[N(D(l.name),1)]),_:2},1032,["to"]))),128))]),f("main",null,[v(r)])])}}},Se="modulepreload",J={},ke="./",A=function(o,n){return!n||n.length===0?o():Promise.all(n.map(a=>{if(a=`${ke}${a}`,a in J)return;J[a]=!0;const t=a.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${r}`))return;const l=document.createElement("link");if(l.rel=t?"stylesheet":Se,t||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),t)return new Promise((u,i)=>{l.addEventListener("load",u),l.addEventListener("error",i)})})).then(()=>o())},$e=[{title:"\u9996\u9875",name:"Home",path:"/",component:()=>A(()=>import("./index.46ae9e62.js"),["assets/index.46ae9e62.js","assets/vendor.686eae6b.js"])},{title:"\u5FEB\u901F\u5F00\u59CB",name:"Install",path:"/install",component:()=>A(()=>import("./index.0506ea52.js"),["assets/index.0506ea52.js","assets/vendor.686eae6b.js"])},{title:"\u6309\u94AE",name:"Button",path:"/components/Button",component:()=>A(()=>import("./README.79cba053.js"),["assets/README.79cba053.js","assets/vendor.686eae6b.js"])},{title:"\u590D\u5236\u7EC4\u4EF6",name:"Clipboard",path:"/components/Clipboard",component:()=>A(()=>import("./README.d9b276b2.js"),["assets/README.d9b276b2.js","assets/vendor.686eae6b.js"])},{title:"\u8868\u683C",name:"BuTable",path:"/components/BuTable",component:()=>A(()=>import("./README.483aadbf.js"),["assets/README.483aadbf.js","assets/vendor.686eae6b.js"])}],Be={history:ie(),routes:$e,scrollBehavior(e,o){if(e.path!==o.path)return{top:0}}},De=de(Be);var z=(e,o)=>{const n=e.__vccOpts||e;for(const[a,t]of o)n[a]=t;return n};const Ee=Y({name:"index",emits:["click"],setup(e){return(o,n)=>(d(),h("button",{class:"bfox-button",onClick:n[0]||(n[0]=a=>o.$emit("click",a))},[k(o.$slots,"default",{},void 0,!0)]))}});var Oe=z(Ee,[["__scopeId","data-v-c4a52e88"]]);const M={install(e){e.component("BuButton",Oe)}};const Ne=e=>(U("data-v-6deb010a"),e=e(),W(),e),Ae=Ne(()=>f("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[f("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64h64z"}),f("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H384zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64z"})],-1)),ze=[Ae],Ve=Y({name:"index",props:{text:{type:String,default:""}},setup(e){const{toClipboard:o}=ue(),n=async a=>{try{await o(a),ce({message:"\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F",type:"success"})}catch{}};return(a,t)=>(d(),h("div",{class:"clipboard",style:{width:"17px",height:"17px"},onClick:t[0]||(t[0]=r=>n(e.text))},ze))}});var Le=z(Ve,[["__scopeId","data-v-6deb010a"]]);const R={install(e){e.component("bfox-clipboard",Le)}},Q=(e,o,n)=>{e.getBoundingClientRect().top>document.body.clientHeight?(o.style.display==="none"&&(o.style.display="block",o.scrollLeft=n.scrollLeft),o.style.display="block"):o.style.display="none"},qe=(e,o)=>{let n=document.createElement("div"),a=document.createElement("div"),t=document.createElement("div"),r=document.querySelector(".el-table__body"),l=document.querySelector(".el-table__body-wrapper");pe(()=>{let u=document.querySelector(".el-table");if(!u)return;u.append(n);let i=window.MutationObserver||window.webkitMutationObserver||window.MozMutationObserver;window.mutationObserver=new i(function(m){Q(n,t,l)}),window.mutationObserver.observe(u,{childList:!0,subtree:!0}),a.style.width=r.getBoundingClientRect().width+"px",a.style.height="1px",t.style.width=u.getBoundingClientRect().width+"px",t.style.height="30px",t.style.overflow="auto",t.style.zIndex=o,t.style.bottom="0px",t.style.position="fixed",t.append(a),u.append(t)}),window.addEventListener("scroll",()=>{let u=document.querySelector(".el-table");if(!u)return;t.style.display==="block"?l.scrollLeft=t.scrollLeft:t.scrollLeft=l.scrollLeft,Q(n,t,l);let i=document.querySelector(".el-table__header-wrapper"),m=document.querySelector(".el-table__fixed .el-table__fixed-header-wrapper"),y=document.querySelector(".el-table__fixed-right .el-table__fixed-header-wrapper"),w=document.querySelector(".el-table__fixed-right  .el-table__header");if(u.getBoundingClientRect().top<e){if(!document.querySelector(".zhanweitablehead")){let _=document.createElement("div");_.className="zhanweitablehead",_.style.width=i.getBoundingClientRect().width+"px",_.style.height=i.getBoundingClientRect().height+"px",u.insertBefore(_,u.children[0])}i&&(i.style.position="fixed",i.style.zIndex=o,i.style.top=e+"px",i.style.right="56px",i.style.boxShadow="inset 0 8px 10px -10px #00000026",i.style.width=u.getBoundingClientRect().width+"px",i.style.overflow="hidden"),m&&(m.style.position="fixed",m.style.zIndex=o,m.style.top=e+"px",m.style.right="56px",m.style.width="320px",m.style.overflow="hidden"),y&&(y.style.width=document.querySelector(".el-table__fixed-right").style.width,y.style.position="fixed",y.style.zIndex=o,y.style.top=e+"px",y.style.height="50px",y.style.right="36px",y.style.overflow="hidden",w.style.position="absolute",w.style.right="0")}else{if(!u)return;document.querySelector(".zhanweitablehead")&&document.querySelector(".el-table").removeChild(document.querySelector(".zhanweitablehead")),i&&(i.style={}),m&&(m.style={}),y&&(y.style={}),w&&(w.style.position="initial")}},!0)},Ie=(e={top:100,zIndex:997})=>{qe(e.top,e.zIndex)},Te={apiData:{type:Array,default:()=>[]},apiUrl:{type:String,default:""},apiParams:{type:Function,default:()=>({})},apiMethod:{type:String,default:"get"},columns:{type:Array,default:()=>[]},selection:{type:Boolean,default:!1},customColumn:{type:Boolean,default:!1},isPaging:{type:Boolean,default:!0,required:!0},headerTopfixed:{type:Boolean,default:!0},rowKey:{type:String||Function,default:"ID"},fit:{type:Boolean,default:!0},rowClassName:{type:[String,Function],default:""},spanMethod:{type:Function,default:()=>{}},border:{type:Boolean,default:!1},"cell-style":{type:[Object,Function],default:()=>{}},defaultExpandAll:{type:Boolean,default:!1}};const Me=e=>(U("data-v-bb3bfe26"),e=e(),W(),e),Re={style:{display:"flex","justify-content":"end","text-align":"center"}},Pe=Me(()=>f("h5",null,"\u81EA\u5B9A\u4E49\u663E\u793A\u5217",-1)),je=N("\u4FDD\u5B58 "),Fe=N("\u91CD\u7F6E "),He=N("\u5168\u9009 "),Ye={name:"dialogTools",props:{modelValue:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:o}){const n=e,a=Z(),t=E([]),r=()=>{localStorage.setItem("app-table-column_"+a.name.toLowerCase(),JSON.stringify(t.value)),window.location.reload()},l=()=>{t.value=[],localStorage.removeItem("app-table-column_"+a.name.toLowerCase()),window.location.reload()},u=()=>{t.value=Object.keys(n.columns)};return me(t,(i,m)=>{console.log(i,m),o("update:modelValue",i)}),K(()=>{t.value=n.modelValue}),(i,m)=>{const y=b("Grid"),w=b("el-icon"),_=b("el-checkbox"),V=b("el-col"),O=b("el-button"),I=b("el-row"),$=b("el-checkbox-group"),s=b("el-popover");return d(),h("div",Re,[v(s,{placement:"left",width:600,trigger:"click"},{reference:g(()=>[v(w,{size:20,title:"\u81EA\u5B9A\u4E49\u5217"},{default:g(()=>[v(y)]),_:1})]),default:g(()=>[v($,{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=x=>t.value=x)},{default:g(()=>[Pe,v(I,{justify:"start"},{default:g(()=>[(d(!0),h(L,null,T(n.columns,(x,C,S)=>(d(),B(V,{span:6,key:S},{default:g(()=>[v(_,{label:C},{default:g(()=>[N(D(x.label),1)]),_:2},1032,["label"])]),_:2},1024))),128)),v(V,{span:24},{default:g(()=>[v(O,{style:{padding:"5px 9px",height:"unset"},type:"success",onClick:r},{default:g(()=>[je]),_:1}),v(O,{style:{padding:"5px 9px",height:"unset"},type:"info",onClick:l},{default:g(()=>[Fe]),_:1}),v(O,{style:{padding:"5px 9px",height:"unset"},onClick:u},{default:g(()=>[He]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}};var Ue=z(Ye,[["__scopeId","data-v-bb3bfe26"]]);const We={class:"app-table"},Ze={class:"app-tools"},Ke={key:0},Ge={key:1},Je={key:2},Qe={key:3},Xe={key:4},et={key:5},tt={key:0,class:"gva-pagination"},ot={name:"BuTable"},nt=Object.assign(ot,{props:Te,emits:["sort-change","selection-change","response","request"],setup(e,{expose:o,emit:n}){const a=e,t=Z(),r=E({});let l=localStorage.getItem("app-table-column_"+t.name.toLowerCase());try{l=l?JSON.parse(l):[]}catch{l=Object.keys(a.columns)}const u=E(l);let i=Object.assign({},a.columns);for(const s in i)Object.hasOwnProperty.call(i,s)&&Array.isArray(l)&&l.length>0?i[s].show=l.indexOf(s)!=-1:i[s].show=!0;r.value=i,l.length==0&&(u.value=Object.keys(r.value));const m=s=>{n("sort-change",s)},y=E(!1),w=E([]),_=E({page:1,pageSize:15,total:0}),V=s=>{_.value.page=s,$()},O=s=>{_.value.pageSize=s,$()},I=s=>{n("selection-change",s)},$=async(s=!1)=>{if(a.apiData&&Array.isArray(a.apiData)&&a.apiData.length>0){w.value=a.apiData;return}let x={url:a.apiUrl,method:a.apiMethod},C=H({},a.apiParams());a.isPaging&&(C.page=s?1:_.value.page,C.pageSize=s?10:_.value.pageSize),a.apiMethod.toLowerCase()=="get"?x.params=C:x.data=C,y.value=!0;let{data:S}=await he(x);console.log("res",S),y.value=!1,w.value=S.data.list,_.value.total=S.data.total,_.value.page=S.data.page,_.value.pageSize=S.data.pageSize,n("response",S),n("request",C)};return o({handleSearchTableData:$}),K(async()=>{Ie(),$()}),(s,x)=>{const C=b("el-table-column"),S=b("el-table"),ee=b("el-pagination"),te=_e("loading");return d(),h("div",We,[f("div",Ze,[k(s.$slots,"tools",{},void 0,!0),a.customColumn?(d(),B(Ue,{key:0,title:"\u81EA\u5B9A\u4E49\u663E\u793A\u5217",modelValue:u.value,"onUpdate:modelValue":x[0]||(x[0]=c=>u.value=c),columns:a.columns},null,8,["modelValue","columns"])):q("",!0)]),G((d(),B(S,{fit:s.fit,data:w.value,style:{width:"100%"},"row-class-name":s.rowClassName,border:s.border,"span-method":s.spanMethod,"row-key":s.rowKey,"default-expand-all":s.defaultExpandAll,onSortChange:m,onSelectionChange:I},{default:g(()=>[k(s.$slots,"default",{},void 0,!0),a.selection?(d(),B(C,{key:0,type:"selection",width:"55"})):q("",!0),(d(!0),h(L,null,T(r.value,(c,oe,ne)=>(d(),h(L,{key:ne},[c.show?(d(),B(C,{key:0,label:c.label,prop:oe,align:c.align,width:c.width,"min-width":c.minWidth,sortable:c.sortable,fixed:c.fixed,type:c.type},{default:g(p=>[c.show&&c.type=="datetime"?(d(),h("div",Ke,[f("span",null,D(p.row[p.column.property]?s.$moment(p.row[p.column.property]).format("YYYY-MM-DD HH:mm:ss"):""),1)])):c.show&&c.type=="date"?(d(),h("div",Ge,[f("span",null,D(p.row[p.column.property]?s.$moment(p.row[p.column.property]).format("YYYY-MM-DD"):""),1)])):c.show&&c.type=="slot"?(d(),h("div",Je,[k(s.$slots,p.column.property,{row:p.row,$index:p.$index},void 0,!0)])):c.show&&c.type=="action"?(d(),h("div",Qe,[k(s.$slots,p.column.property,{row:p.row,$index:p.$index},void 0,!0)])):c.show&&c.type=="expand"?(d(),h("div",Xe,[k(s.$slots,p.column.property,{row:p.row,$index:p.$index},void 0,!0)])):(d(),h("div",et,[f("span",null,D(c.render?c.render(p.row[p.column.property]):p.row[p.column.property]),1)]))]),_:2},1032,["label","prop","align","width","min-width","sortable","fixed","type"])):q("",!0)],64))),128))]),_:3},8,["fit","data","row-class-name","border","span-method","row-key","default-expand-all"])),[[te,y.value]]),s.isPaging?(d(),h("div",tt,[v(ee,{layout:"total, sizes, prev, pager, next, jumper","current-page":_.value.page,"page-size":_.value.pageSize,"page-sizes":[15,30,50,100],total:_.value.total,onCurrentChange:V,onSizeChange:O},null,8,["current-page","page-size","total"])])):q("",!0)])}}});var at=z(nt,[["__scopeId","data-v-03caf3ea"]]);const P={install(e){e.component("BuTable",at)}},lt={install(e){var o,n,a;(o=M.install)==null||o.call(M,e),(n=R.install)==null||n.call(R,e),(a=P.install)==null||a.call(P,e)}};const st={props:{compName:{type:String,default:"",require:!0},demoName:{type:String,default:"",require:!0}},data(){return{sourceCode:"",codeVisible:!1}},computed:{previewSourceCode(){return this.sourceCode.replace(/'\.\.\/\.\.\/index'/g,"'@tencent/bfox-kit'")}},async mounted(){this.compName&&this.demoName&&(this.sourceCode=await fetch(`/packages/components/${this.compName}/docs/${this.demoName}.vue`).then(e=>e.text())),await this.$nextTick(),ye.highlightAll()},methods:{async copyCode(){},showSourceCode(){this.codeVisible=!this.codeVisible}}},rt={class:"Bfox-preview"},it={class:"source-code"},dt={class:"language-html"},ut={class:"language-html"},ct={class:"preview-bottom"};function pt(e,o,n,a,t,r){return d(),h("div",rt,[f("section",null,[k(e.$slots,"default")]),G(f("div",it,[f("pre",dt,[f("code",ut,D(r.previewSourceCode),1)])],512),[[fe,t.codeVisible]]),f("div",ct,[f("span",{name:"Code",onClick:o[0]||(o[0]=(...l)=>r.showSourceCode&&r.showSourceCode(...l))},"\u67E5\u770B\u4EE3\u7801")])])}var mt=z(st,[["render",pt]]);const X=ge(Ce);X.component("Preview",mt);X.use(lt).use(be).use(De).mount("#app");export{Oe as B,z as _};
